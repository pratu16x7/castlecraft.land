<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        
        
        <link rel="stylesheet" href="/sass/main.min.63ba10e1e37b242c9329126bc7151844317a83c4575a9e5c68204b18ec2b0c10.css">
        <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
        <meta property="og:title" content="" />
<meta property="og:description" content="The Belief of a Search System … and doing the best despite uncertainties
So as it is our last day, I thought to share some thoughts/aids/ideas that helped me understand some of the concepts like fundamental to so many things that we&rsquo;ve been studying. I don&rsquo;t doubt that there would be plenty of mistakes (and dimness in labels) for a first draft, and will be glad to receive any and all corrections and feedback :)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://pratu16x7.com/stories/belief-of-systems/" /><meta property="og:image" content="http://pratu16x7.com/images/timon_minimal.png"/><meta property="article:section" content="stories" />

<meta property="og:site_name" content="Prateeksha&#39;s Webplace" />


        
        
        <meta property="og:image" content="/images/timon_minimal.png"/>
        <meta property="og:image:secure_url" content="http://pratu16x7.com/images/timon_minimal.png"/>
        
        
    </head>
    <body>
        
<header>
    <img src="/images/timon_minimal.svg" class="logo min-width-logo">
    <nav>
        <ul>
            
            
            
            
                
                <li class="">
                    <a href="/" title=""><span>About me</span></a>
                </li>
            
                
                <li class="">
                    <a href="/stories/" title=""><span>Stories</span></a>
                </li>
            
                
                    <li class="max-width-logo">
                        <img src="/images/timon_minimal.svg" class="logo">
                    </li>
                
                <li class="">
                    <a href="/creations/" title=""><span>Creations</span></a>
                </li>
            
                
                <li class="">
                    <a href="/work/" title=""><span>Work</span></a>
                </li>
            
            
        </ul>
    </nav>
</header>

        
        

<article class="paper ">
    

    <hgroup>
        <h1></h1>
        <h3></h3>
    </hgroup>

    <div style="color:grey; font-size:16px;">Monday, Jan 1, 0001</div>
    <div style="color:grey; font-size:16px;"></div>


    <div><h1 id="the-belief-of-a-search-system">The Belief of a Search System</h1>
<p>… and doing the best despite uncertainties</p>
<p><em>So as it is our last day, I thought to share some thoughts/aids/ideas that helped me understand some of the concepts like fundamental to so many things that we&rsquo;ve been studying. I don&rsquo;t doubt that there would be plenty of mistakes (and dimness in labels) for a first draft, and will be glad to receive any and all corrections and feedback :)</em></p>
<hr>
<p>So you&rsquo;re a Search System. Everything you know is comprised in a Library of Knowledge full of scrolls and docs</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20World.png" alt="The World.png"></p>
<p>and your job is to find and give Seekers what they need based on what they tell you.</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Truth.png" alt="The Truth.png"></p>
<p>You have a knack for finding things, and for doing what you&rsquo;re told, so you imagine that for any <em>need of knowledge</em> that they might have, If your docs-world has the truth, in these docs, you&rsquo;ll find and guide them to the Truth and nothing else.</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Truth%20Retrieved.png" alt="The Truth Retrieved.png"></p>
<p>In an ideal, rainbows-and-unicorns world.</p>
<p>Unfortunately for you, there is an interface the user&rsquo;s need has to pass through before reaches you: which is <em>how well they can express their thoughts</em>.</p>
<p>All you can get is a <em><strong>query</strong></em>, an rough idea, of what their need is. With that, you have to guess your best to divide your docs world into what you <em>think</em> is correct and not.</p>
<p>And given how far off the query was from the need, your guess might be &hellip; well, a bit patchy.</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Guess.png" alt="The Guess.png"></p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Guess%20Retrieved.png" alt="The Guess Retrieved.png"></p>
<p>You decide to find at least know just how far off you really are, rather than leaving everything upto chance, so you can maybe find tricks to do better.</p>
<h2 id="the-elusive-truth">The Elusive Truth</h2>
<p>But just <em>how</em> far your guess is from the real deal? You notice three main areas</p>
<ul>
<li><strong>The Extra Part</strong>: in the guess, it has things added that <!-- raw HTML omitted -->should not<!-- raw HTML omitted --> have</li>
</ul>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Extra%20Part.png" alt="The Extra Part.png"></p>
<ul>
<li><strong>The Missed Part</strong>: in the truth, which are things removed/not selected that <!-- raw HTML omitted -->should<!-- raw HTML omitted --> have</li>
</ul>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Missed%20Part.png" alt="The Missed Part.png"></p>
<p>And then of course,</p>
<ul>
<li><strong>The Correct Part</strong>: the one Both have, things that should have been added and are added, the correct/good part, where both are same &ndash;&gt; the green part.</li>
</ul>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Correct%20Part.png" alt="The Correct Part.png"></p>
<h2 id="the-dilemma">The Dilemma</h2>
<p>There seem to be two ways to correct the error then. You don&rsquo;t have control on the real part, just on the guess. So, you can,</p>
<ul>
<li>
<p>grow the guess: absorb more of the Missed</p>
</li>
<li>
<p>reduce the guess: reduce some of the Extra</p>
</li>
</ul>
<p>But this can&rsquo;t be done without a Seeker&rsquo;s help.</p>
<p>So the next seeker that comes up to you and states his need, you give the docs and ask,</p>
<p>You: &ldquo;Hey, so any thoughts about the results?&rdquo;</p>
<p>Seeker: &ldquo;Yeah they&rsquo;re nice, though there are some wrong docs in here too.&rdquo;</p>
<p>You: &ldquo;I can think of a way to imporve them maybe. Could you try to be more specific, and maybe remove some words?&rdquo;</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20%20Guess%20No%20Extra%20(no%20text).png" alt="The  Guess No Extra (no text).png"></p>
<p>Seeker: &ldquo;Yeah now <em>all</em> of these seem fine, there&rsquo;s no wrong ones, and looks like there are quite a few missing&rdquo;</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Guess%20No%20Extra.png" alt="The Guess No Extra.png"></p>
<p>You: &ldquo;Well, what if you added more words and were more general?&rdquo;</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20%20Guess%20Catching%20everything%20(no%20text).png" alt="The  Guess Catching everything (no text).png"></p>
<p>&ldquo;Yeah now there&rsquo;s everything I wanted, what are all these other things?&rdquo;</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20%20Guess%20Catching%20Everything.png" alt="The  Guess Catching Everything.png"></p>
<p>Hmm.</p>
<p>It seems there are two very different ways of <em>doing well</em>, each of which is good in one way, but bad in another.</p>
<p>And, you realize, unless the <strong>initial offset</strong> between query and need is cured, or you&rsquo;re <em>very</em> lucky, you&rsquo;re never going to do well on both.</p>
<h2 id="the-types-of-goodnesses">The Types of Goodnesses</h2>
<p>So it seems you need to track both these cases of your searches.</p>
<p>Two points strike you that might be good pointers:</p>
<p><strong>Quantity</strong>: How well you were able to catch everything. It shows you <em>correct</em> things <em>removed</em> mistakenly.</p>
<p>That would basically be <em>your catch</em> vs <em>everything correct</em>.</p>
<p>That is, <strong>your correct guess ÷ truth</strong></p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Quantity.png" alt="Quantity.png"></p>
<p>The other one is <strong>Quality</strong>: How well did you avoid being wrong. It shows <em>wrong</em> things <em>added</em> mistakenly.</p>
<p>Which would be <em>your catch</em> vs <em>everything you got</em></p>
<p>That is, <strong>your correct guess ÷ guess</strong></p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Quality.png" alt="Quality.png"></p>
<p>Not bad. The only trouble now is that you&rsquo;re having some difficulty measuring all those areas.</p>
<h2 id="finding-things-is-everywhere">&ldquo;Finding things&rdquo; is everywhere</h2>
<p>To fix the squiggly shape area problem, you dumb it down removing unnecessary details, that makes it easier.</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/To%20Boxes.png" alt="To Boxes.png"></p>
<p>Hang on. This looks familiar.</p>
<p>It look just like something your friend, who is an <strong>Object Detection System</strong>, does.</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Object%20Detection.png" alt="Object Detection.png"></p>
<p>You&rsquo;re quite excited and show it to her. She&rsquo;s very interested, but then points out that it&rsquo;s actually not surprising, and in fact your measures are real and actually have names:</p>
<ul>
<li>
<p>Measuring Quality is usually called <em><strong>Precision</strong></em>: So for her, how well her guess catches <em>only</em> the object.</p>
</li>
<li>
<p>Measuring Quantity is on the other hand called <em><strong>Recall</strong></em>: How well her guess gets <em>all</em> of the object</p>
</li>
</ul>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/New%20Names.png" alt="New Names.png"></p>
<p>What&rsquo;s more, there are even more names. The extra part, for example is called a <em>False Postive</em>. The missed part on the other hand is called a <em>False Negative</em>. And the correctly guessed part is called a <em>True Positive</em>.</p>
<!-- raw HTML omitted -->
<p>Woah, that&rsquo;s neat.</p>
<p>You start to ask her how does <em>she</em> measure them, but them remember that she really just has all the box widths and pixel values which are pretty convenient.</p>
<p>But your corpus and guesses do not have any apparent shape &hellip;</p>
<p>&hellip; which actually might be a good thing. Maybe you don&rsquo;t even have to stop at this box shape.</p>
<h2 id="the-proportions">The Proportions</h2>
<p>You keep trying things out, and then something hits you.</p>
<p>Maybe there&rsquo;s no real reason for the guess and real blobs to be in the middle. (And let&rsquo;s just increase the sizes so they&rsquo;re easier to work with)</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/The%20Transformation.png" alt="The Transformation.png"></p>
<p>Ah, now everything is proportional to the big Docs Box. That should make measuring things a bit easier.</p>
<p>So Precision and Recall would now look like,</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Equivalence.png" alt="Equivalence.png"></p>
<p>Working with proportions seems pretty convenient.</p>
<p>Say if there are 10% true docs, then we don&rsquo;t have to know the actual number of docs.</p>
<p><img src="Prior%2010%20percent.png" alt="Prior 10 percent.png"></p>
<p>Also, you had heard somewhere that percents can be thought of as measuring the chance, or &ldquo;probability&rdquo;.</p>
<p>So if you just got 1 doc from the entire store, it would have a 10% chance of being correct.</p>
<p>To put in an another way, <strong>P(was true) = 10%</strong></p>
<p>You decide to go even further. To see what happens when you guess.</p>
<p>Say the Seeker gives you a query, and 70% of correct docs satify it, along with 5% of the incorrect ones.</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Percents%20After%20Guess.png" alt="Percents After Guess.png"></p>
<p>This means you know you got 70% of correct ones.</p>
<p>It sounds very familiar &hellip; wait isn&rsquo;t that just Recall?</p>
<p>Also, 70% of correct ones is also just another way to say <em>the chance that a doc was guessed, given it was true (limiting ourself to just true docs), is 70%.</em></p>
<p>That is, <strong>P(doc_was_got | doc_was_true) = 70%</strong></p>
<p>Which means, all of these are equivalent:</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Recall%20Calculation.png" alt="Recall Calculation.png"></p>
<p>So we have had our Recall with just proportions or rather, probabilities.</p>
<p>Can we do precision too in a similar way?</p>
<h2 id="the-bayes-case">The Bayes Case</h2>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Precision%20Box%20diag.png" alt="Precision Box diag.png"></p>
<p>Precision looks like it is very similar. The correct docs (green part) are still in the focus, but here you compare it with respect to the <em><strong>guess</strong></em> (yellow) part rather than the true part.</p>
<p>So looks like here Precision would also be a probability, but a flipped one; it would say: &ldquo;Given you got a doc, what is the chance it was true?&rdquo;,</p>
<p>Which is <strong>P(doc_was_true | doc_was got)</strong></p>
<p>But for that you need the areas of the green and yellow. Not a problem, you can find them with the percents you know.</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Precision%20Components%20Areas.png" alt="Precision Components Areas.png"></p>
<p>This means Precision is,</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Precision%20Calculation.png" alt="Precision Calculation.png"></p>
<p>Oh, but wait.</p>
<p>We already know that the</p>
<ul>
<li>
<p>10% is <strong>P(doc_was true_)</strong></p>
</li>
<li>
<p>70% is <strong>P(doc_was_got | doc_was true)</strong></p>
</li>
</ul>
<p>In the same way,</p>
<ul>
<li>
<p>90% is <strong>P(doc_was_not_true)</strong></p>
</li>
<li>
<p>2% is <strong>P(doc_was_got | doc_was_not_true)</strong></p>
</li>
</ul>
<p>Also, that denominator is just the entire guess, which is <strong>P(doc_was_got)</strong></p>
<p>And so, you find Precision to be,</p>
<p><img src="/Users/prateekshasingh/Dropbox/stories/the-belief-of-systems/Precision%20Probabilities.png" alt="Precision Probabilities.png"></p>
<p>Woo! Can&rsquo;t wait to show this interpretation your friend, bet she hasn&rsquo;t seen this one before.</p>
<p>&ndash;</p>
<p>You slowly begin to realize that whatever are any of those docs, even if you don&rsquo;t know their exact count, just a rough ratio, or a chance how many they might be, you <em>still</em> have a way to know how good we&rsquo;ll be.</p>
<p>Of course, everything still much upto chance. But something hits different.</p>
<p>It&rsquo;s like you now know exactly just how much that chance is :)</p>
<h2 id="credits">Credits</h2>
<p><strong>Concepts</strong>: CSE 535 by Prof. Srihari, Information Retrieval by Chris Manning, Bayes Theorem by 3Blue1Brown</p>
<p><strong>Style</strong>: Lauren Ipsum, Wait But Why, Vihart, Advent of Code, HPMoR</p>
<p><strong>Based on</strong>: Precision and Recall, Bayes Theorem, and the probablistic approach to IR</p>
<p><strong>Illustrations</strong> made in figma, a wonderful tool.</p>
<p>In the works: &ldquo;Spinoff: So you&rsquo;re a Medical Test&rdquo;</p>
<p><em>It has been awesome studying with you all. Thanks to the entire 535 team for making this a wonderful experience. See you around, and have an amazing holiday :)</em></p>
<hr>
<h2 id="scraps">Scraps</h2>
<p>Link to workboard: <a href="https://www.figma.com/file/l2NG6ikWz8l9scFb50ffgQ/Belief?node-id=0%3A1">Figma</a></p>
<p>So labelling all of them, putting in some example numbers just to get an idea:</p>
<p>Say there are total 10k docs (1), and 1k of those are right.</p>
<p>The Seeker gives you a query, and you are able to guess 700 correct and 180 incorrect docs.</p>
<p>[labelled world]</p>
<p>The measures would be:</p>
<p>P = 700 / 700 + 180 = ____</p>
<p>R = 700 / 1000 = 0.7</p>
<p>[diag fractions from earlier = number fraction colored = answer in bold]</p>
<p>Just for the record, you rewite the earlier example</p>
<p>[diag fractions from earlier = number fraction colored = answer in bold]</p>
<p>Meaning, if 10% out of 100% docs are correct, then</p>
<p><strong>10%</strong> is chance the ANY given doc from entire World is Correct : <strong>P(it_was_Correct)</strong></p>
<p>which is this. <strong>[just Prior box]</strong></p>
<p>[BIG chart]</p>
<p>you ponder &hellip;</p>
<ul>
<li>
<p>Then this must be the chance any doc is guessed.</p>
</li>
<li>
<p>And of course, this then</p>
</li>
</ul>
<p>&ndash;</p>
<p>It looks as if she could use this system as well, on checking how much extra image she added with Precision, and how much she missed with Recall.</p>
<p>And it seems in this case, Precision seems to be the c<strong>hance that a fetched document was correct</strong></p>
<p>You look up on some way to write it, looks like it is written as</p>
<p><strong>P(it_was_Correct | doc_was_got)</strong></p>
<p>But then can the other percents be called chances as well? you look excitedly</p>
<p><strong>10%</strong> is chance the ANY given doc from entire World is Correct : <strong>P(it_was_Correct)</strong></p>
<p><strong>70%</strong> is chance that Correct document was fetched, or doc was fetched given it was correct: <strong>P(doc_was_got | it_was_Correct)</strong></p>
<p><strong>15%</strong> is chance that InCorrect document was fetched</p>
<p>But isn&rsquo;t all this just <strong>P(doc_was_got)</strong></p>
<p>&ndash;</p>
<p>Your precision is: green / green + yellow = <strong>P(it_was_Correct | doc_was_got)</strong></p>
<p>= 70% * 10% [of the total area] / (70% * 10% + 15% * 19%) of the total area</p>
<p>if the initial box was 100% and if 10% initial docs were correct (blue),</p>
<p>[pic: prior, labelled with percents]</p>
<p>and you got 70% of those correct ones (green), and 15% of incorrect ones (yellow)</p>
<p>[pic: both correct incorrect, labelled with percents ]</p>
<p>Your precision is: green / green + yellow</p>
<p>= 70% * 10% [of the total area] / (70% * 10% + 15% * 19%) of the total area</p>
<p>&ndash;</p>
<p>[Again, the guess is correct for all you know, to your best <em>beliefs</em>. But by starting from shaky ground (the approximate query), you have no way of knowing the real need]</p>
<h3 id="dividing-the-world">Dividing the World</h3>
<p>PoV</p>
<p>Flesh out, independently first, only then you&rsquo;ll know the relations</p>
<h3 id="probability-ir-as-well-nope-the-bayes-diagram-but-hard-to-explain">Probability IR as well (NOPE: the Bayes diagram, but hard to explain)</h3>
<p>Something about this initial offset really irks you. It seems things are always going to be uncertain.</p>
<p>You want to be able to say &ldquo;given your initial query,If I gave you a doc, this is the chance if is correct&rdquo;</p>
<p>my_given_doc = doc_given</p>
<p>P(C | my, q)</p>
<p>It seems P(C | doc_I_gave, q) is really</p>
<p>and that seems equal to this, which is really P( doc_I_gave | )</p>
<p>You had heard about Baye&rsquo;s theorem, but never knew it would be similar to precision.</p>
<p>When you give these &ldquo;I think these are relevant&rdquo; docs, you unknowingly divide your docs world into retrieved and not retrieved docs.</p>
<p>This is your approximation of relevant docs.</p>
<ul>
<li>makes it to</li>
</ul>
<p>2 ways to correct then:</p>
<p>Trial 1:</p>
<ul>
<li>
<p>absorb more of the green part :</p>
</li>
<li>
<p>reduce some of the blue part</p>
</li>
</ul>
<p>No &hellip;</p>
<p>Trial 2:</p>
<ul>
<li>
<p>grow the approximate part</p>
</li>
<li>
<p>reduce the real part</p>
</li>
</ul>
<p>No &hellip; that doesn&rsquo;t seem right either, you don&rsquo;t have control on the real part</p>
<p>Trial 3:</p>
<ul>
<li>
<p>grow the approximate part</p>
</li>
<li>
<p>reduce the approximate part</p>
</li>
</ul>
<p>Ah, that seems to be it. It is actually the same as Trial 1</p>
<p>Trial 4:</p>
<ul>
<li>
<p>grow the approximate part: absorb more of the green part</p>
</li>
<li>
<p>reduce the approximate part: reduce some of the blue part</p>
</li>
</ul>
<p>You try and think how the user can help, and how phrasing their query can help in catching more of that green missed &ldquo;real&rdquo; part. Maybe if the user added some more words it would help?</p>
<p>But that would make the approimate part grow, which means even the extra added things could also grow.</p>
<p>On the other hand, if</p>
<p>And you&rsquo;re given a query like &ldquo;Apple&rdquo;.</p>
<p>For you, at any time, this world will be divided into relevant and non relevant document</p>
<h2 id="aside-your-cv-friend">Aside: Your CV friend</h2>
<p>You tell about this to your CV, who it turns out, was using the similar concept for measuring her errors.</p>
<p>You kind of see similar measure being used for a friend of yours that detects objects in images</p>
<p>[pic: side by side square case of IR and IP,</p>
<p>(there too there is the correct part (the ground truth object) and the]</p>
</div>
</article>

        
        <footer>© Prateeksha Singh 2020</footer>
    </body>
</html>
